<div class="register-container">
  <div class="register-wrapper">
    <p-card class="register-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <h2>Create Account</h2>
          <p>Join our document management system</p>
        </div>
      </ng-template>
      
      <ng-template pTemplate="content">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
          <div class="form-row">
            <div class="form-group">
              <label for="username" class="form-label">Username</label>
              <span class="p-input-icon-left">
                <i class="pi pi-user"></i>
                <input 
                  id="username"
                  pInputText 
                  formControlName="username" 
                  placeholder="Enter username"
                  class="full-width"
                  [class.ng-invalid]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
              </span>
              <small class="p-error" *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
                <span *ngIf="registerForm.get('username')?.hasError('required')">Username is required</span>
                <span *ngIf="registerForm.get('username')?.hasError('minlength')">Username must be at least 3 characters</span>
              </small>
            </div>

            <div class="form-group">
              <label for="email" class="form-label">Email</label>
              <span class="p-input-icon-left">
                <i class="pi pi-envelope"></i>
                <input 
                  id="email"
                  pInputText 
                  type="email" 
                  formControlName="email" 
                  placeholder="Enter email"
                  class="full-width"
                  [class.ng-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
              </span>
              <small class="p-error" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                <span *ngIf="registerForm.get('email')?.hasError('required')">Email is required</span>
                <span *ngIf="registerForm.get('email')?.hasError('email')">Please enter a valid email</span>
              </small>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="firstName" class="form-label">First Name</label>
              <span class="p-input-icon-left">
                <i class="pi pi-user"></i>
                <input 
                  id="firstName"
                  pInputText 
                  formControlName="firstName" 
                  placeholder="Enter first name"
                  class="full-width"
                  [class.ng-invalid]="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
              </span>
              <small class="p-error" *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
                First name is required
              </small>
            </div>

            <div class="form-group">
              <label for="lastName" class="form-label">Last Name</label>
              <span class="p-input-icon-left">
                <i class="pi pi-user"></i>
                <input 
                  id="lastName"
                  pInputText 
                  formControlName="lastName" 
                  placeholder="Enter last name"
                  class="full-width"
                  [class.ng-invalid]="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
              </span>
              <small class="p-error" *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
                Last name is required
              </small>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="password" class="form-label">Password</label>
              <p-password 
                id="password"
                formControlName="password" 
                placeholder="Enter password"
                [toggleMask]="true"
                [feedback]="false"
                class="full-width"
                [class.ng-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
              </p-password>
              <small class="p-error" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                <span *ngIf="registerForm.get('password')?.hasError('required')">Password is required</span>
                <span *ngIf="registerForm.get('password')?.hasError('minlength')">Password must be at least 6 characters</span>
              </small>
            </div>

            <div class="form-group">
              <label for="confirmPassword" class="form-label">Confirm Password</label>
              <p-password 
                id="confirmPassword"
                formControlName="confirmPassword" 
                placeholder="Confirm password"
                [toggleMask]="true"
                [feedback]="false"
                class="full-width"
                [class.ng-invalid]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
              </p-password>
              <small class="p-error" *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
                <span *ngIf="registerForm.get('confirmPassword')?.hasError('required')">Confirm password is required</span>
                <span *ngIf="registerForm.get('confirmPassword')?.hasError('passwordMismatch')">Passwords do not match</span>
              </small>
            </div>
          </div>

          <div class="form-actions">
            <button 
              pButton 
              type="submit" 
              label="Create Account"
              icon="pi pi-user-plus"
              [disabled]="registerForm.invalid || loading"
              [loading]="loading"
              class="p-button-primary full-width">
            </button>
          </div>
        </form>
      </ng-template>
      
      <ng-template pTemplate="footer">
        <div class="card-footer">
          <p class="login-link">
            Already have an account? 
            <a routerLink="/auth/login" class="link-primary">Login here</a>
          </p>
        </div>
      </ng-template>
    </p-card>
  </div>
</div> 